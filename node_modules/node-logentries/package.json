{
  "name": "node-logentries",
  "description": "A winston-compatible wrapper library for the logentries.com service",
  "keywords": [
    "log",
    "logging",
    "winston",
    "logentries",
    "logentries.com",
    "wrapper",
    "api"
  ],
  "version": "0.0.2",
  "homepage": "https://github.com/rjrodger/node-logentries",
  "author": {
    "name": "Richard Rodger",
    "email": "richard@chartaca.com",
    "url": "http://richardrodger.com/"
  },
  "contributors": [
    {
      "name": "Richard Rodger",
      "email": "richard@chartaca.com",
      "url": "http://richardrodger.com/"
    }
  ],
  "dependencies": {},
  "main": "lib/logentries",
  "directories": {
    "lib": "lib"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/rjrodger/node-logentries.git"
  },
  "files": [
    "package.json",
    "README.md",
    "lib/logentries.js"
  ],
  "engines": {
    "node": "*"
  },
  "readme": "# node-logentries\n\n** A Node.js wrapper for [logentries.com](http://logentries.com) **\n\nIf you're using this library, feel free to contact me on twitter if you have any questions! :) [@rjrodger](http://twitter.com/rjrodger)\n\nCurrent Version: 0.0.1\n\nTested on: node 0.4.9\n\n\n# What it is\n\nAn easy-to-use wrapper for the logentries.com service. The _node-logentries_ module makes it very easy to log directly to your logentries.com account direct from Node.js!\nThis module is also completely compatible with [winston](https://github.com/indexzero/winston).\n\n```javascript\nvar logentries = require('node-logentries')\n\nvar log = logentries.logger({\n  token:'YOUR_TOKEN'\n})\n\n// level specific methods like 'info', 'debug', etc.\nlog.info(\"I'm a Lumberjack and I'm OK\")\n\n// generic log method, also accepts JSON entries\nlog.log(\"debug\", {sleep:\"all night\", work:\"all day\"})\n\n// use as a winston transport\nvar winston = require('winston')\nlog.winston( winston )\n\n```\n\n# Key Features:\n\n   * simple API\n   * fully configurable\n   * also an EventEmitter\n   * winston compatible\n   * fully tested\n\nCore Methods:\n\n   * _{debug,info,...}( log_entry )_ : log entry at _debug,info,..._ level (configurable)   \n   * _log( level_name, log_entry )_ : log entry at _level_name_\n   * _on( event_name, callback )_ : listen for _error_ and _log_ events\n   * _level( level_name )_ : discard entries below this level\n   * _winston( winston, options )_ : register as a transport with winston\n   * _end_ : close connection to logentries.com (unsent logs remain queued)\n\n\n## Installation\n\n    npm install node-logentries\n\nAnd in your code:\n\n    var logentries = require('node-logentries')\n\nOr clone the git repository:\n    git clone git://github.com/rjrodger/node-logentries.git\n\nThe node-logentries module does not depend on any non-core modules.\n\nYou also need a logentries.com account - [get started with logentries.com](https://logentries.com/docs/configure/#section9)\n\n\n## Usage\n\n\nThis module sends your logging entries to the logentries.com service. You will need an account with this service for the module to work.\n\nOnce you have logentries.com account, you need just one configuration item to initialize a logging instance (you can create more than one):\n\n  * TOKEN: As supplied by Logentries when you create a logfile of source type Token TCP.\n\nThe module provides you with a set of logging methods that correspond to the standard syslog log levels. These are, in order of increasing severity:\n\n  * debug    \n  * info     \n  * notice   \n  * warning  \n  * err      \n  * crit     \n  * alert    \n  * emerg    \n\nYou can change these levels using the _levels_ configuration option (see below).\n\nEach level has a convenience method named after it, so you can say\n_logger.debug(...)_ or _logger.info(...)_, for example. There is also\na general logging method, _log_, that takes the name of the log level as the first entry.\n\nTo create a logging instance, call the _logger_ function of the module, passing any options as the first argument:\n\n```\nvar mylogger = require('node-logentries').logger({\n  levels: {\n    chill:0, meh:1, hmm:2, notgood:3, ohnoes:4, omgwtfbbq:5\n  }\n})\n```\n\nEach logger object is an instance of [EventEmitter](http://nodejs.org/docs/v0.4.10/api/events.html#events.EventEmitter). You can listen for the following events:\n\n  * _log_: capture each log event (maybe for your own archive)\n  * _error_: get notification of any errors in the logging system itself\n\n\n## Conventions\n\nThe standard syslog log levels are used by default: debug, info, notice, warning, err, crit , alert, emerg.    \n\nHowever, if installed as a winston transport (using the _winston_ method), then the winston levels are used: silly, verbose, info, warn, debug, error.\n\n\n## API\n\nFor the API examples, assume the following lines of code at the top of your source code file:\n\n    var logentries = require('node-logentries')\n\n    var log = logentries.logger({\n      token:'YOUR_TOKEN'\n    })\n\nThis gives you a standard _log_ object.\n\nYou should really also read the logentries.com documentation so that you understand how logentries.com works: \n[logentries.com User Guide](https://logentries.com/docs/userguide)\n\n### Configuration Options\n\nWhen you create a _log_ object with the _logger_ function on the module, you can supply the following options:\n\n   * _token_:    required; logentries destination token uuid\n   * _transport_:  optional; default is LogEntriesTransport; transport object\n   * _levels_:     optional; default is syslog-style; custom log levels\n   * _printerror_: optional; default is true; print errors to STDERR with console.error\n   * _timestamp_: optional; default is true; autogenerate a timestamp\n\nThe _token_  entry relates to your logentries.com configuration. The _transport_ option allows you to \nprovide an alternative transport implementation (see below). \n\nBy default the module will print errors to STDOUT to aid with debugging in a development context. To run this off,\nset the _printerror_ option to false.\n\nThe levels option lets you specify custom log levels. You provide these as a object, the property names of which are the\nlog levels. The value of each log level should be an integer specifying its order. For example:\n\n    { lowest:0, lower:1, middle:2, higher:3, highest:4 }\n\n\n\n### `<loglevel>`: `log.<logelevel>( entry )`\n\n  * _entry_: (required) log entry, can be string or JSON object\n\nSubmit a log entry. The entry data will be submitted to logentries.com. If a logging connection to logentries.com is not open,\na connection will be opened, and any pending entries will be processed in order.\n\n    log.info('buttered scones for tea')\n\nThe log level and an optional timestamp are prefixed (in that order) to the log entry, and will be present in the logentries.com console.\n\nThe <loglevel> convenience methods are dynamically constructed from the configured list of logging levels, a method being constructed for each level,\nhaving the name of the level. If you're naughty and use log levels like 'log' and 'level', they will be ignored.\n\n\n### log: `log.log(level,entry)`\n\n  * _level_: (required) the name of the log level (must match one of the configured levels)\n  * _entry_: (required) log entry, can be string or JSON object\n\nSubmit a log entry, passing the name of the level programmatically. The dynamically constructed convenience methods, \nsuch as _debug_, delegate to this method internally.\n\n    log.log('debug','press wild flowers')\n\nA log entry will only be submitted if the log level is greater than or equal to the current log level setting of the logger.\nThis allows you to drop noisy debugging logs from production environments.\n\n\n### on: `log.on(event,callback)`\n\n  * _event_: (required) one of _error_ or _log_\n  * _callback_: (required) callback function\n\nThis method is provided by the standard Node _EventEmitter_. Register callback functions to get notified of errors.\nThe module cannot log errors itself, as it has nowhere to log them! Hosted environments may not provide writable disk access.\nTherefore, the module simply emits an error event that you can listen for. The module does also print errors to STDOUT by default,\nto help with debugging. Use the _printerror_ configuration setting to control this (see above).\n\n    log.on('error',function(err){\n       console.log('hangs around.... In bars!? '+err )\n    }\n\nYou may also need to gain access to the verbatim log lines. You can listen to the _log_ event to do this:\n\n\n    log.on('log',function(logline){\n       console.log( logline )\n    }\n\nThis gives you the logline, a single string in the format:\n\n    \"level\" \"ISODate\" \"entry\"\n\n\n### level: `log.level(name)`\n\n  * _name_: (required) the name of the level\n\nSet the current log level. All log entries below this level will be ignored. All log levels are given an integer rank when they\nare specified. The default rankings are:\n\n\n    {\n      debug     :0,\n      info      :1,\n      notice    :2,\n      warning   :3,\n      err       :4,\n      crit      :5,\n      alert     :6,\n      emerg     :7,\n   }\n\nFor example, if you specify a level of _warning_, then log entries at levels _debug_, _info_, and _notice_ will be dropped.\n\n    log.level('warning')\n\n\n### winston: `log.winston( winston, options )`\n\n  * _winston_: (required) winston module\n  * _options_: (optional) set the winston level _{level:'silly'}_\n\nThe node-logentries module is fully compatible with the\n[winston](https://github.com/indexzero/winston) logging module.  To\nlog to logentries.com using winston, use the _winston_ method. This\ntakes care of all the transport object registration and set up for\nyou. The winston log levels are automatically configured as the\ncurrent log levels.\n\nThere is an optional second argument to specify some integration options. At present this only lets you set the winston log level,\n(which is _info_ by default).\n\n    var winston = require('winston')\n    log.winston( winston, {level:'silly'} )\n   \n    // then use winston as normal\n    winston.info('And I thought you were so rugged!')\n\nWith the winston API, you can specify a _meta_ parameter to a log\nentry. The node-logentries module converts this to a JSON string and\nappends it to the log entry string.\n\n\n### end: `log.end()`\n\nThis module maintains an open HTTP connection to _api.logentries.com_, so that logging will be fast and efficient.\nIf the connection breaks, it is automatically reestablished.\n\nIf you need to close the connection, call the end method. This primarily useful for unit testing to exit the test process.\nNOTE: if you submit further log entries after calling end, the connection will be reopened.\n\nIf you need finer grained control, then you will need to write your own transport object, or extend the existing one. See the _lib/logentries.js_ file.\n\n\n\n## Transports\n\nThis module uses a transport object to perform the actual transfer of\ndata to logentries.com. You provide your own customized transport\nobject by using the _transport_ configuration option.\n\nIf you are implementing your own transport object, you need to provide these interface methods:\n\n   * _queue( queue )_ : gives you an array to use as a queue, _Array.shift_ items off\n   * _consume()_ : process outstanding items in the queue by sending them to logentries.com\n   * _end()_ : (optional) close connection to logentries.com\n\nTake a look at the unit tests (in _test_ folder) to see some simple implementations.\n\n\n## Testing\n\nThe unit tests use [expresso](https://github.com/visionmedia/expresso), and are in the _test_ folder.\n\n    expresso test\n\nThe acceptance tests (these push actual data to the live logentries.com service) are simple node scripts, and are in the _accept_ folder.\nCopy the _accept/conf.js_ file to _accept/conf.mine.js_ and add your logentries.com user keys. Run directly:\n\n    node live.accept.js\n\n\n\n## logentries.com service.\n\nCompany site: [logentries.com](http://logentries.com)\n\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/rjrodger/node-logentries/issues"
  },
  "_id": "node-logentries@0.0.2",
  "dist": {
    "shasum": "3a18c6767587ce379b163f367304e46044dfa78e"
  },
  "_from": "node-logentries@0.0.2",
  "_resolved": "https://registry.npmjs.org/node-logentries/-/node-logentries-0.0.2.tgz"
}
